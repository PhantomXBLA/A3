\hypertarget{_game_8h_source}{}\doxysection{Game.\+h}
\label{_game_8h_source}\index{A2-\/main/101251005\_101248866 -\/ lab assignment 2/101251005\_101248866 -\/ lab assignment 1/Game.h@{A2-\/main/101251005\_101248866 -\/ lab assignment 2/101251005\_101248866 -\/ lab assignment 1/Game.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 }
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{comment}{//\#include "{}SceneNode.h"{}}}
\DoxyCodeLine{5 \textcolor{comment}{//\#include "{}Aircraft.h"{}}}
\DoxyCodeLine{6 }
\DoxyCodeLine{7 }
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{comment}{//\#include "{}Waves.h"{}}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include "{}World.h"{}}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include "{}Player.h"{}}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include "{}StateStack.h"{}}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{keyword}{enum class} RenderLayer : int}
\DoxyCodeLine{16 \{}
\DoxyCodeLine{17     Opaque = 0,}
\DoxyCodeLine{18     Transparent,}
\DoxyCodeLine{19     AlphaTested,}
\DoxyCodeLine{20     AlphaTestedTreeSprites,}
\DoxyCodeLine{21     Count}
\DoxyCodeLine{22 \};}
\DoxyCodeLine{23 }
\DoxyCodeLine{24 \textcolor{keyword}{class }\mbox{\hyperlink{class_game}{Game}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_d3_d_app}{D3DApp}}}
\DoxyCodeLine{25 \{}
\DoxyCodeLine{26 \textcolor{keyword}{public}:}
\DoxyCodeLine{27 }
\DoxyCodeLine{31     \mbox{\hyperlink{class_game_a3f68a62a1fe1ca8dcd1deb054b384cef}{Game}}(HINSTANCE hInstance);}
\DoxyCodeLine{32 }
\DoxyCodeLine{34     \mbox{\hyperlink{class_game_a3f68a62a1fe1ca8dcd1deb054b384cef}{Game}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_game}{Game}}\& rhs) = \textcolor{keyword}{delete};}
\DoxyCodeLine{35 }
\DoxyCodeLine{36     \mbox{\hyperlink{class_game}{Game}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{class_game}{Game}}\& rhs) = \textcolor{keyword}{delete};}
\DoxyCodeLine{37     }
\DoxyCodeLine{40     \mbox{\hyperlink{class_game_ae3d112ca6e0e55150d2fdbc704474530}{\string~Game}}();}
\DoxyCodeLine{41 }
\DoxyCodeLine{46     \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_game_a16354d232327f6c21319713bf6983674}{Initialize}}()\textcolor{keyword}{override};}
\DoxyCodeLine{47 }
\DoxyCodeLine{48 \textcolor{keyword}{private}:}
\DoxyCodeLine{49     \textcolor{comment}{//enum Layer}}
\DoxyCodeLine{50     \textcolor{comment}{//\{}}
\DoxyCodeLine{51     \textcolor{comment}{//  Background,}}
\DoxyCodeLine{52     \textcolor{comment}{//  Air,}}
\DoxyCodeLine{53     \textcolor{comment}{//  LayerCount}}
\DoxyCodeLine{54     \textcolor{comment}{//\};}}
\DoxyCodeLine{55 }
\DoxyCodeLine{56 \textcolor{keyword}{public}:}
\DoxyCodeLine{57     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} OnResize()\textcolor{keyword}{override};}
\DoxyCodeLine{58 }
\DoxyCodeLine{63     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_game_ab9244991993b5a1cbde3f1f2d73f2745}{Update}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_game_timer}{GameTimer}}\& gt)\textcolor{keyword}{override};}
\DoxyCodeLine{64 }
\DoxyCodeLine{69     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_game_afc62dae28f3cd775d8110ff5386c1fe1}{Draw}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_game_timer}{GameTimer}}\& gt)\textcolor{keyword}{override};}
\DoxyCodeLine{70 }
\DoxyCodeLine{71     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} OnMouseDown(WPARAM btnState, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y)\textcolor{keyword}{override};}
\DoxyCodeLine{72     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} OnMouseUp(WPARAM btnState, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y)\textcolor{keyword}{override};}
\DoxyCodeLine{73     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} OnMouseMove(WPARAM btnState, \textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y)\textcolor{keyword}{override};}
\DoxyCodeLine{74 }
\DoxyCodeLine{75     \textcolor{comment}{//Aircraft* mPlayerAircraft;}}
\DoxyCodeLine{76 }
\DoxyCodeLine{77     \textcolor{keywordtype}{void} OnKeyboardInput(\textcolor{keyword}{const} \mbox{\hyperlink{class_game_timer}{GameTimer}}\& gt);}
\DoxyCodeLine{78     \textcolor{keywordtype}{void} UpdateCamera(\textcolor{keyword}{const} \mbox{\hyperlink{class_game_timer}{GameTimer}}\& gt);}
\DoxyCodeLine{79     \textcolor{keywordtype}{void} AnimateMaterials(\textcolor{keyword}{const} \mbox{\hyperlink{class_game_timer}{GameTimer}}\& gt);}
\DoxyCodeLine{80     \textcolor{keywordtype}{void} UpdateObjectCBs(\textcolor{keyword}{const} \mbox{\hyperlink{class_game_timer}{GameTimer}}\& gt);}
\DoxyCodeLine{81     \textcolor{keywordtype}{void} UpdateMaterialCBs(\textcolor{keyword}{const} \mbox{\hyperlink{class_game_timer}{GameTimer}}\& gt);}
\DoxyCodeLine{82     \textcolor{keywordtype}{void} UpdateMainPassCB(\textcolor{keyword}{const} \mbox{\hyperlink{class_game_timer}{GameTimer}}\& gt);}
\DoxyCodeLine{83     \textcolor{keywordtype}{void} UpdateWaves(\textcolor{keyword}{const} \mbox{\hyperlink{class_game_timer}{GameTimer}}\& gt);}
\DoxyCodeLine{84     \textcolor{keywordtype}{void} RegisterStates();}
\DoxyCodeLine{85 }
\DoxyCodeLine{90     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_game_ad23eba18656a646756a98bcda25a98a4}{LoadTextures}}();}
\DoxyCodeLine{91 }
\DoxyCodeLine{92     \textcolor{keywordtype}{void} BuildRootSignature();}
\DoxyCodeLine{93     }
\DoxyCodeLine{98     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_game_a62c79f98ef99a7ee0c54e3ae23ab0173}{BuildDescriptorHeaps}}();}
\DoxyCodeLine{99 }
\DoxyCodeLine{104     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_game_adc0692c304c05a5a281d88622b39c498}{BuildShadersAndInputLayout}}();}
\DoxyCodeLine{105 }
\DoxyCodeLine{106     \textcolor{keywordtype}{void} BuildLandGeometry();}
\DoxyCodeLine{107 }
\DoxyCodeLine{108     \textcolor{keywordtype}{void} BuildBoxGeometry();}
\DoxyCodeLine{109     \textcolor{keywordtype}{void} BuildSphereGeometry();}
\DoxyCodeLine{110     \textcolor{keywordtype}{void} BuildCylinderGeometry();}
\DoxyCodeLine{111     \textcolor{keywordtype}{void} BuildTorusGeometry();}
\DoxyCodeLine{112     \textcolor{keywordtype}{void} BuildWedgeGeometry();}
\DoxyCodeLine{113 }
\DoxyCodeLine{114     \textcolor{keywordtype}{void} BuildPyramidGeometry();}
\DoxyCodeLine{115     \textcolor{keywordtype}{void} BuildConeGeometry();}
\DoxyCodeLine{116     \textcolor{keywordtype}{void} BuildDiamondGeometry();}
\DoxyCodeLine{117     \textcolor{keywordtype}{void} BuildTriPrismGeometry();}
\DoxyCodeLine{118     \textcolor{keywordtype}{void} BuildTreeSpritesGeometry();}
\DoxyCodeLine{119 }
\DoxyCodeLine{120     \textcolor{keywordtype}{void} ResetFrameResources();}
\DoxyCodeLine{121 }
\DoxyCodeLine{122     \textcolor{keywordtype}{void} BuildShapeGeometry();}
\DoxyCodeLine{123     \textcolor{keywordtype}{void} BuildPSOs();}
\DoxyCodeLine{124     \textcolor{keywordtype}{void} BuildFrameResources();}
\DoxyCodeLine{125     \textcolor{keywordtype}{void} BuildMaterials();}
\DoxyCodeLine{126     \textcolor{keywordtype}{void} BuildRenderItems();}
\DoxyCodeLine{127     \textcolor{keywordtype}{void} DrawRenderItems(ID3D12GraphicsCommandList* cmdList, \textcolor{keyword}{const} std::vector<RenderItem*>\& ritems);}
\DoxyCodeLine{128 }
\DoxyCodeLine{129     }
\DoxyCodeLine{130     }
\DoxyCodeLine{131     std::array<const CD3DX12\_STATIC\_SAMPLER\_DESC, 6> GetStaticSamplers();}
\DoxyCodeLine{132 }
\DoxyCodeLine{133     \mbox{\hyperlink{class_player}{Player}}                    mPlayer;}
\DoxyCodeLine{134     \mbox{\hyperlink{class_state_stack}{StateStack}}                mStateStack;}
\DoxyCodeLine{135 }
\DoxyCodeLine{136     \textcolor{keywordtype}{void}                    processEvents(\textcolor{keyword}{const} \mbox{\hyperlink{class_game_timer}{GameTimer}}\& gt);}
\DoxyCodeLine{137 }
\DoxyCodeLine{138     \textcolor{comment}{//SceneNode sceneNode;}}
\DoxyCodeLine{139     \textcolor{comment}{//std::array<SceneNode*, LayerCount>    mSceneLayers;}}
\DoxyCodeLine{140     \textcolor{comment}{//float GetHillsHeight(float x, float z)const;}}
\DoxyCodeLine{141     \textcolor{comment}{//XMFLOAT3 GetHillsNormal(float x, float z)const;}}
\DoxyCodeLine{142 }
\DoxyCodeLine{143 \textcolor{keyword}{public}:}
\DoxyCodeLine{144     }
\DoxyCodeLine{145 }
\DoxyCodeLine{146     \textcolor{keywordtype}{void} BuildWavesGeometry();}
\DoxyCodeLine{147     std::vector<std::unique\_ptr<FrameResource>> mFrameResources;}
\DoxyCodeLine{148     \mbox{\hyperlink{struct_frame_resource}{FrameResource}}* mCurrFrameResource = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{149     \textcolor{keywordtype}{int} mCurrFrameResourceIndex = 0;}
\DoxyCodeLine{150 }
\DoxyCodeLine{151     UINT mCbvSrvDescriptorSize = 0;}
\DoxyCodeLine{152 }
\DoxyCodeLine{153     ComPtr<ID3D12RootSignature> mRootSignature = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{154 }
\DoxyCodeLine{155     ComPtr<ID3D12DescriptorHeap> mSrvDescriptorHeap = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{156 }
\DoxyCodeLine{157     std::unordered\_map<std::string, std::unique\_ptr<MeshGeometry>> mGeometries;}
\DoxyCodeLine{158     std::unordered\_map<std::string, std::unique\_ptr<Material>> mMaterials;}
\DoxyCodeLine{159     std::unordered\_map<std::string, std::unique\_ptr<Texture>> mTextures;}
\DoxyCodeLine{160     std::unordered\_map<std::string, ComPtr<ID3DBlob>> mShaders;}
\DoxyCodeLine{161     std::unordered\_map<std::string, ComPtr<ID3D12PipelineState>> mPSOs;}
\DoxyCodeLine{162 }
\DoxyCodeLine{163     std::vector<D3D12\_INPUT\_ELEMENT\_DESC> mInputLayout;}
\DoxyCodeLine{164     std::vector<D3D12\_INPUT\_ELEMENT\_DESC> mTreeSpriteInputLayout;}
\DoxyCodeLine{165 }
\DoxyCodeLine{166     \mbox{\hyperlink{struct_render_item}{RenderItem}}* mDesertRitem = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{167     \mbox{\hyperlink{struct_render_item}{RenderItem}}* mTitleRitem = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{168 }
\DoxyCodeLine{169     \textcolor{comment}{// List of all the render items.}}
\DoxyCodeLine{170     std::vector<std::unique\_ptr<RenderItem>> mAllRitems;}
\DoxyCodeLine{171 }
\DoxyCodeLine{172     \textcolor{comment}{// Render items divided by PSO.}}
\DoxyCodeLine{173     std::vector<RenderItem*> mRitemLayer[(int)RenderLayer::Count];}
\DoxyCodeLine{174 }
\DoxyCodeLine{175     \textcolor{comment}{//std::unique\_ptr<Waves> mWaves;}}
\DoxyCodeLine{176 }
\DoxyCodeLine{177     \textcolor{comment}{//World                 world;}}
\DoxyCodeLine{178     \mbox{\hyperlink{struct_pass_constants}{PassConstants}} mMainPassCB;}
\DoxyCodeLine{179     \mbox{\hyperlink{struct_pass_constants}{PassConstants}} mSecondaryPassCB;}
\DoxyCodeLine{180 }
\DoxyCodeLine{181     XMFLOAT3 mEyePos = \{ 0.0f, 0.0f, 0.0f \};}
\DoxyCodeLine{182     XMFLOAT4X4 mView = MathHelper::Identity4x4();}
\DoxyCodeLine{183     XMFLOAT4X4 mProj = MathHelper::Identity4x4();}
\DoxyCodeLine{184 }
\DoxyCodeLine{185     \textcolor{keywordtype}{float} mTheta = 1.5f * XM\_PI;}
\DoxyCodeLine{186     \textcolor{keywordtype}{float} mPhi = XM\_PIDIV2 -\/ 0.1f;}
\DoxyCodeLine{187     \textcolor{keywordtype}{float} mRadius = 50.0f;}
\DoxyCodeLine{188 }
\DoxyCodeLine{189     POINT mLastMousePos;}
\DoxyCodeLine{190 }
\DoxyCodeLine{191 \};}
\DoxyCodeLine{192 }

\end{DoxyCode}
